<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Joyce Rice is a designer</title>
        <link rel="stylesheet" href="styles2.css">
        <link href="https://fonts.googleapis.com/css?family=Muli:200,200i,400,400i,600" rel="stylesheet">
        <link rel="shortcut icon" href="#" />
    </head>

    <body>
      <div class="totalContainer">
        <div class="mainContent">
        <noscript>
            You need to enable JavaScript to run this app.
        </noscript>
        <!--HERE IS THE HEADER-->
        <header>
            <a href="/">
                <h1>joyce rice</h1>
                <h2>design<span style="font-weight: 100;"> et al.</span></h2>
            </a>
            <nav>
                <ul>
                    <a href="work.html">
                        <li>work</li>
                    </a>
                    <a href="https://shop.teenyrobots.net" class="hide">
                      <li>shop</li>
                    </a>
                   <a href="about.html">
                        <li>about</li>
                   </a>
                    <a href="https://blog.teenyrobots.net/" class="hide">
                        <li>blog</li>
                    </a>
                      <a href="contact.html" class="hide">
                        <li>contact</li>
                    </a>
                </ul>
            </nav>
        </header>
        <!--THAT'S IT FOR THE HEADER-->

        <div class="content" id="allProjects">

            <div id="wrong">
                <img src="assets/error.jpg" alt="a drunk laptop surrounded by empty booze bottles">
                <p>Whoops something's gone wrong! Try refreshing the page.</p>
            </div>
            <!-- projects go here -->

        </div>
      </div>

        <div class="newFooter">
            <p>Thanks for visiting!</p>
            <div>
                <a href="https://www.instagram.com/teenyrobots/" target="_blank"><img src="assets/icons/grams.png" alt="instagram"></a>
                <a href="https://twitter.com/teenyrobots" target="_blank"><img src="assets/icons/twitter.png" alt="twitter"></a>
                <a href="https://github.com/teenyrobots" target="_blank"><img src="assets/icons/github.png" alt="github"></a>
                <a href="mailto:hello@joycerice.work?subject=Hello!" target="_blank"><img src="assets/icons/mail.png" alt="mail"></a>
            </div>
        </div>

        <script
			  src="https://code.jquery.com/jquery-3.5.1.js"
			  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
			  crossorigin="anonymous"></script>

        <script>

            function makeCard(project) {
                let title = project.title,
                    type = project.type,
                    thumb = "projects/_thumbs/" + project.slug + ".jpg",
                    projectURL = "/project.html?project=" + project.slug;
                let projectDiv = $("<div class='projectThumb'><a href='"+ projectURL+"'><h2>"+title+"</h2><h3>"+type+"</h3><img src='"+thumb+"'></a></div>");
                return projectDiv;
            }

            $(document).ready(function(){
                let errorDiv = true;
                $.getJSON('projects.json', function(data) {
                    data.projects.map(function(project){
                        var projectCard = makeCard(project);
                        $("#allProjects").append(projectCard);
                        errorDiv = false;
                    });
                    if (errorDiv) $('#wrong').show();
                });
            });

        </script>
      </div>
    </body>
</html>
